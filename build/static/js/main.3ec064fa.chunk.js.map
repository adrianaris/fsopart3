{"version":3,"sources":["components/dButton.js","components/Person.js","components/People.js","components/PersonForm.js","components/Filter.js","services/phonebook.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Dbutton","dPerson","id","onClick","Person","person","name","number","People","people","map","split","reduce","x","y","charCodeAt","PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNewName","newNumber","handleNewNumber","type","Filter","filter","handleFilter","baseUrl","axios","get","then","response","data","newObject","post","put","dObject","delete","Notification","message","style","color","fontSize","background","borderStyle","borderRadius","padding","marginBottom","Error","App","useState","setPeople","setNewName","setNewNumber","setFilter","notification","setNotification","errorMessage","setErrorMessage","useEffect","pServices","allPeople","peopleToShow","toLowerCase","includes","event","target","preventDefault","newPerson","window","confirm","changedPerson","returnedPerson","p","setTimeout","catch","error","updNumber","find","concat","deletedP","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3ec064fa.chunk.js","sourcesContent":["import React from 'react'\n\nconst Dbutton = ( { dPerson, id } ) => {\n  return (\n    <button onClick={() => dPerson(id)}>\n      delete\n    </button>\n  )\n}\n\nexport default Dbutton\n","import React from 'react'\nimport Dbutton from './dButton'\n\nconst Person = ({ person, dPerson }) => {\n  return (\n    <li>\n      {person.name} {person.number}\n      <Dbutton \n\tid={person.id} \n\tdPerson={dPerson}\n      />\n    </li>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst People = ({ people, dPerson }) => {\n  return (\n      <ul>\n\t{people.map(person =>\n\t<Person \n\t  key={person.name.split('').reduce((x,y)=>x+y.charCodeAt(0),0)} \n\t  person={person} \n\t  dPerson={dPerson}\n\t/> \n\t)}\n      </ul>\n  )\n}\n\nexport default People\n","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n\tname: <input\n\t  value={props.newName}\n\t  onChange={props.handleNewName}\n\t/>\n      </div>\n      <div>\n\tnumber: <input\n\t  value={props.newNumber}\n\t  onChange={props.handleNewNumber}\n\t/>\n      </div>\n      <div>\n\t<button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Filter = ({ filter, handleFilter }) => {\n  return (\n    <>\n      filter shown with <input\n\tvalue={filter}\n\tonChange={handleFilter}\n      />\n    </>\n  )\n}\n\nexport default Filter\n","import axios from 'axios'\nconst baseUrl = '/api/people'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteP = (id, dObject) => {\n  const request = axios.delete(`${baseUrl}/${id}`, dObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteP }\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: 'green',\n    fontSize: 20,\n    background: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if (message === null) {\n    return null\n  }\n\n   return (\n     <div style={notificationStyle}>\n       {message}\n     </div>\n   )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Error = ({ message }) => {\n  const notificationStyle = {\n    color: 'red',\n    fontSize: 20,\n    background: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if (message === null) {\n    return null\n  }\n\n   return (\n     <div style={notificationStyle}>\n       {message}\n     </div>\n   )\n}\n\nexport default Error\n","import React, { useState, useEffect } from 'react'\nimport People from './components/People'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport pServices from './services/phonebook'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nconst App = () => {\n  const [ people, setPeople ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notification, setNotification] = useState(null)\n  const [ errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    pServices \n      .getAll()\n      .then(allPeople => {\n\tsetPeople(allPeople)\n      })\n  }, [])\n\n  const updNumber = (person, newNumber) => {\n    if (window.confirm(`${person.name} is already in the phonebook, replace the old number with a new one?`)) { \n      const changedPerson = { ...person, number: newNumber }\n      pServices\n        .update(person.id, changedPerson)\n        .then(returnedPerson => { \n          setPeople(people.map(p => p.id !== person.id ? p : returnedPerson))\n        })\n        .then(x => {\n          setNotification(`Modified ${newName}`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          setNewName('')\n        })\n        .catch(error => {\n          setErrorMessage(`${error.response.data.error}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = { \n      name: newName,\n      number: newNumber\n    }\n\n    people.map(person => person.name).includes(newName)\n      ? updNumber(people.find(p => p.name === newName), newNumber) \n      : pServices\n        .create(newPerson)\n        .then(person => {\n          setPeople(people.concat(person))\n        })\n        .then(x => {\n          setNotification(`Added ${newName}`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          setNewName('')\n        })\n        .catch(error => {\n          setErrorMessage(`${error.response.data.error}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        \n  }\n\n  const handleNewName = (event) => setNewName(event.target.value)\n  const handleNewNumber = (event) => setNewNumber(event.target.value)\n\n  const handleFilter = (event) => setFilter(event.target.value)\n\n  const peopleToShow = filter === ''\n    ? people\n    : people.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const dPerson = id => {\n    const person = people.find(p => p.id === id)\n    if (window.confirm(`Delete ${person.name}`)) { \n      pServices\n\t.deleteP(id, person).then(deletedP => {\n\t  setPeople(people.filter(p => p.id !== id)) \n\t})\n\t.catch(error => {\n\t  setErrorMessage(`Information of ${person.name} has already been removed from server`)\n\t  setTimeout(() => {\n\t    setErrorMessage(null)\n\t  }, 5000)\n\t})\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Error message={errorMessage} />\n      <Filter filter={filter} handleFilter={handleFilter} /> \n      <h3>Add a new</h3>\n      <PersonForm \n\taddPerson={addPerson} \n\tnewName={newName} \n\thandleNewName={handleNewName} \n\tnewNumber={newNumber} \n\thandleNewNumber={handleNewNumber}\n      /> \n      <h3>Numbers</h3>\n      <People \n\tpeople={peopleToShow} \n\tdPerson={dPerson}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render ( <App />, document.getElementById('root'))\n"],"sourceRoot":""}